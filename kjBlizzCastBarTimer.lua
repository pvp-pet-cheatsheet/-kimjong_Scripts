CastingBarFrame.timer =CastingBarFrame:CreateFontString(nil);
CastingBarFrame.timer:SetFont(STANDARD_TEXT_FONT,12,"OUTLINE");
--CastingBarFrame.timer:SetPoint("RIGHT",CastingBarFrame,"RIGHT",-5,-2);
CastingBarFrame.timer:SetPoint("RIGHT",CastingBarFrame,"RIGHT",2,-15);
CastingBarFrame.update =.1;

hooksecurefunc("CastingBarFrame_OnUpdate",function(self, elapsed)
        if not self.timer then return end
        if self.update and self.update < elapsed then
                if self.casting then
                        self.timer:SetText(format("%2.1f/%1.1f", max(self.maxValue -self.value,0),self.maxValue))
                elseif self.channeling then
                        self.timer:SetText(format("%.1f", max(self.value,0)))
                else
                        self.timer:SetText("")
                end
                self.update =.1
        else
                self.update =self.update - elapsed
        end
end)